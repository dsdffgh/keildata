C51 COMPILER V9.60.7.0   TIMING                                                            01/27/2023 10:13:16 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE TIMING
OBJECT MODULE PLACED IN .\Objects\timing.obj
COMPILER INVOKED BY: Z:\buyaobilian\Keil_v5\C51\BIN\C51.EXE timing.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.
                    -\Listings\timing.lst) TABS(2) OBJECT(.\Objects\timing.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Timer0.h"
   3          #include "key.h"
   4          #include <intrins.h>
   5          //#include "lcd1602.h"
   6          
   7          /*å®šæ—¶å™¨ä»‹ç»ï¼š51å•ç‰‡æœºçš„å®šæ—¶å™¨å±žäºŽå•ç‰‡æœºçš„å†…éƒ¨èµ„æºï¼Œå…¶ç”µè·¯çš„è¿žæŽ¥å’Œè¿è½¬å‡
             -åœ¨å•ç‰‡æœºå†…éƒ¨å®Œæˆ
   8            å®šæ—¶å™¨ä½œç”¨ï¼š
   9            ï¼ˆ1ï¼‰ç”¨äºŽè®¡æ—¶ç³»ç»Ÿï¼Œå¯å®žçŽ°è½¯ä»¶è®¡æ—¶ï¼Œæˆ–è€…ä½¿ç¨‹åºæ¯éš”ä¸€å›ºå®šæ—¶é—´å®Œæˆä¸€é¡¹æ“ä½
             -œ
  10            ï¼ˆ2ï¼‰æ›¿ä»£é•¿æ—¶é—´çš„Delayï¼Œæé«˜CPUçš„è¿è¡Œæ•ˆçŽ‡å’Œå¤„ç†é€Ÿåº¦
  11            ï¼ˆâ€¦ï¼‰
  12            
  13            å®šæ—¶å™¨åœ¨å•ç‰‡æœºå†…éƒ¨å°±åƒä¸€ä¸ªå°é—¹é’Ÿä¸€æ ·ï¼Œæ ¹æ®æ—¶é’Ÿçš„è¾“å‡ºä¿¡å·ï¼Œæ¯éš”â€œä¸€ç§’â€
             -ï¼Œè®¡æ•°å•å…ƒçš„æ•°å€¼å°±å¢žåŠ ä¸€ï¼Œ
  14            å½“è®¡æ•°å•å…ƒæ•°å€¼å¢žåŠ åˆ°â€œè®¾å®šçš„é—¹é’Ÿæé†’æ—¶é—´â€æ—¶ï¼Œè®¡æ•°å•å…ƒå°±ä¼šå‘ä¸­æ–­ç³»ç»Ÿå‘
             -å‡ºä¸­æ–­ç”³è¯·ï¼Œäº§ç”Ÿâ€œå“é“ƒæé†’â€ï¼Œ
  15            ä½¿ç¨‹åºè·³è½¬åˆ°ä¸­æ–­æœåŠ¡å‡½æ•°ä¸­æ‰§è¡Œ
  16          
  17          */
  18          
  19          //æŒ‰é”®æŽ§åˆ¶æµæ°´ç¯æ¨¡å¼
  20          
  21          unsigned int T0Count = 0;
  22          unsigned char keynum,LEDMode;
  23          
  24          //  void Timer0_Init()
  25          //  {
  26          //  //  TMOD = 0x01;
  27          //    TMOD = TMOD & 0XF0; //é«˜å››ä½ä¸å˜ï¼Œä½Žå››ä½æ¸…é›¶
  28          //    TMOD = TMOD | 0X01; //é«˜å››ä½ä¸å˜ï¼Œæœ€ä½Žä½ç½®1
  29          //    TF0 = 0;//é…ç½®TCON
  30          //    TR0 = 1;
  31          //    TH0 = 64535/256;
  32          //    TL0 = 64535%256;
  33          //    ET0 = 1;
  34          //    EA = 1;
  35          //    PT0 = 0;
  36          //  }
  37          
  38          void Timer0_Rountine()  interrupt 1 //ä¸­æ–­å­ç¨‹åº
  39          {
  40   1        
  41   1      //  TH0 = 64535/256;//ä¿è¯æ¯æ¬¡è®¡æ•°éƒ½æ˜¯1ms
  42   1      //  TL0 = 64535%256;//ä½†æ˜¯å®žé™…ä¸Šè¿™æ ·æ¯æ¬¡ä¼šå°‘1us
  43   1        
  44   1        TMOD &= 0xF0;     
  45   1        TMOD |= 0x01; 
  46   1        T0Count++;
  47   1        if(T0Count >= 12)
  48   1        {
  49   2          T0Count = 0;
  50   2          //P2_0 = ~P2_0;//éªŒè¯ä¸­æ–­æ˜¯å¦åˆ°è¾¾
C51 COMPILER V9.60.7.0   TIMING                                                            01/27/2023 10:13:16 PAGE 2   

  51   2      
  52   2          if(LEDMode == 0){
  53   3            
  54   3            P2 = _crol_(P2,1);//å·¦ç§»ä¸€ä½
  55   3            //LCD_ShowHexNum(1,1,P2,6);
  56   3          }
  57   2          if(LEDMode == 1){
  58   3            P2 = _cror_(P2,1);
  59   3            //LCD_ShowHexNum(1,1,P2,6);
  60   3          }
  61   2        }
  62   1      }
  63          
  64          void main()
  65          {
  66   1        P2 = 0XFE;
  67   1        Timer0Init();
  68   1        while(1)
  69   1        {
  70   2          keynum = key();
  71   2      //    if(keynum == 1) {P2_1 = ~P2_1;}
  72   2      //    if(keynum == 2) {P2_2 = ~P2_2;}
  73   2      //    if(keynum == 3) {P2_3 = ~P2_3;}
  74   2      //    if(keynum == 4) {P2_4 = ~P2_4;}
  75   2      //æµ‹è¯•æ˜¯å¦æœ‰è¯¯
  76   2          
  77   2          if(keynum == 1) {
  78   3            LEDMode++;
  79   3            if(LEDMode > 1)
  80   3              LEDMode = 0;
  81   3          }
  82   2          
  83   2            
  84   2        }
  85   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    114    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
