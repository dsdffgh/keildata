C51 COMPILER V9.60.7.0   SHIFT                                                             01/08/2023 18:18:03 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE SHIFT
OBJECT MODULE PLACED IN .\Objects\shift.obj
COMPILER INVOKED BY: z:\buyaobilian\Keil_v5\C51\BIN\C51.EXE shift.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\
                    -Listings\shift.lst) TABS(2) OBJECT(.\Objects\shift.obj)

line level    source

   1          #include <REGX52.H>
   2          
   3          void Delay(int x)   //@12.000MHz
   4          {
   5   1        unsigned char i, j;
   6   1      
   7   1        i = 2;
   8   1        j = 239;
   9   1        do
  10   1        {
  11   2          do
  12   2          {
  13   3            while (--j);
  14   3          } while (--i);
  15   2        }while(--x);
  16   1      }
  17          
  18          #if 0
              void main()
              {
                unsigned char LEDnum = 0;
                P2 =~0x01;
                
                while(1)
                {
                  if(P3_1 == 0)//左移
                  {
                    Delay(10);
                    while(P3_1 == 0)
                      ;
                    Delay(10);
                    
                    if(LEDnum >= 8)
                    {
                      LEDnum = 0;
                    }
                    P2 = ~( 0x01 << ++LEDnum);
                  }
                  if(P3_0 == 0)//右移,一次性置零，但是之后左移恢复原状态，所以实现不太理想
                  {
                    Delay(10);
                    while(P3_0 == 0)
                      ;
                    Delay(10);
                    
                    if(LEDnum <= 0)
                    {
                      LEDnum = 8;
                    }
                    P2 =~ ( 0x01 >> --LEDnum);
                  }
                }
              }
              #endif
C51 COMPILER V9.60.7.0   SHIFT                                                             01/08/2023 18:18:03 PAGE 2   

  55          
  56          #if 0
              //这个也是流水灯
              void main()
              {
                unsigned char LEDnum = 0;
                while(1)
                {
                  
                    if(LEDnum >= 8)
                    {
                      LEDnum = 0;
                    }
                    P2 =~ ( 0x01 << LEDnum++);
                    Delay(10);
                  
                }
              }
              #endif
  74          
  75          #if 0
              //发现了一个有意思的东西，还不知道咋命名
              void main()
              {
                unsigned char LEDnum = 1;
                P2 =~0x01;
                
                while(1)
                {
                  if(P3_1 == 0)//左移
                  {
                    Delay(10);
                    while(P3_1 == 0)
                      ;
                    Delay(10);
                    
                    if(P2 == ~0xAA)
                    {
                      P2 = ~0x01;
                    }
                    Delay(10);
                    P2 = ~( P2 << LEDnum);
                  }
                  if(P3_0 == 0)//右移，完全清零
                  {
                    Delay(10);
                    while(P3_0 == 0)
                      ;
                    Delay(10);
                    
                    P2 =~ ( 0x01 >> LEDnum);
                  }
                }
              }
              #endif
 110          
 111          #if 1
 112          void main()
 113          {
 114   1        unsigned char LEDplus = 0;
 115   1        unsigned char LEDsub = 0;
 116   1        P2 =~0x01;
C51 COMPILER V9.60.7.0   SHIFT                                                             01/08/2023 18:18:03 PAGE 3   

 117   1        
 118   1        while(1)
 119   1        {
 120   2          if(P3_1 == 0)//左移
 121   2          {
 122   3            Delay(10);
 123   3            while(P3_1 == 0)
 124   3              ;
 125   3            Delay(10);
 126   3            
 127   3            if(LEDplus >= 8)
 128   3            {
 129   4              LEDplus = 0;
 130   4            }
 131   3            P2 = ~( 0x01 << ++LEDplus);
 132   3          }
 133   2          if(P3_0 == 0)//右移
 134   2          {
 135   3            Delay(10);
 136   3            while(P3_0 == 0)
 137   3              ;
 138   3            Delay(10);
 139   3            
 140   3            if(LEDplus == 0)
 141   3            {
 142   4              LEDplus = 7;
 143   4            }
 144   3            else
 145   3              LEDplus--;
 146   3            P2 = ~( 0x01 << LEDplus);
 147   3          }
 148   2        }
 149   1      }
 150          #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    102    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
