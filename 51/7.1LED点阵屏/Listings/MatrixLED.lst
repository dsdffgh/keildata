C51 COMPILER V9.60.7.0   MATRIXLED                                                         01/21/2023 15:56:39 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MATRIXLED
OBJECT MODULE PLACED IN .\Objects\MatrixLED.obj
COMPILER INVOKED BY: Z:\buyaobilian\Keil_v5\C51\BIN\C51.EXE MatrixLED.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRIN
                    -T(.\Listings\MatrixLED.lst) TABS(2) OBJECT(.\Objects\MatrixLED.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delay.h"
   3          
   4          // Â∞ÜP3_5ÈáçÊñ∞ÂëΩÂêçÔºåÊØîËæÉÊñπ‰æø
   5          sbit RCK = P3 ^ 5; // RCLK‰∏äÂçáÊ≤øÈîÅÂ≠ò
   6          sbit SCK = P3 ^ 6; // SERCLK‰∏äÂçáÊ≤øÁßª‰Ωç
   7          sbit SER = P3 ^ 4; // SER
   8          #define MATEIX_LED_PORT P0
   9          
  10          /*
  11           *  @brief   ÁÇπÈòµÂ±èÂàùÂßãÂåñ
  12           *  @param   Êó†
  13           *  @retva   Êó†
  14           */
  15          void Matrix_LEDInit()
  16          {
  17   1          SCK = 0;
  18   1          RCK = 0; // ÂàùÂßãÂåñ
  19   1      }
  20          
  21          /*
  22           *  @brief   74HC595ÂÜôÂÖ•‰∏Ä‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆ
  23           *  @param   Byte Ë¶ÅÂÜôÂÖ•ÁöÑÂ≠óËäÇ
  24           *  @retva   Êó†
  25           */
  26          void _74HC595_WriteByte_(unsigned char Byte)
  27          {
  28   1          unsigned char i;
  29   1      
  30   1          for (i = 0; i < 8; i++)
  31   1          {
  32   2              SER = Byte & (0x80 >> i); //&ÂèñÂá∫ÊúÄÈ´ò‰Ωç . SER‰ºöË¢´ËµãÂÄº‰∏∫1000 0000ÊàñËÄÖ0000 0000,‰ª£Ë°®È´
             -òÁîµÂπ≥Êàñ‰ΩéÁîµÂπ≥,ÈùûÈõ∂Âç≥‰∏Ä
  33   2              SCK = 1;
  34   2              SCK = 0; // Êó∂Èíü‰ø°Âè∑‰∏äÂçáÊ≤ø
  35   2              /*
  36   2              SER = Byte & 0x40;
  37   2              SCK = 1;SCK = 0;
  38   2              SER = Byte & 0x20;
  39   2              SCK = 1;SCK = 0
  40   2              Â∞ÜbyteÁöÑÊØè‰∏Ä‰ΩçÁßªËøõÂéªÔºåÂõ†‰∏∫595ÊòØ‰∏≤Ë°åËæìÂÖ•Âπ∂Ë°åËæìÂá∫
  41   2              */
  42   2          }
  43   1          RCK = 1; // ‰∏äÂçáÊ≤øÂ∞ÜÊï∞ÊçÆÁßªÂà∞ I/O Âè£
  44   1          RCK = 0;
  45   1      }
  46          
  47          /*
  48           *  @brief   LEDÁÇπÈòµÂ±èÊòæÁ§∫‰∏ÄÂàóÊï∞ÊçÆ
  49           *  @param   Column Ë¶ÅÈÄâÊã©ÁöÑÂàó ËåÉÂõ¥0-7Ôºå0Âú®ÊúÄÂ∑¶Ëæπ
  50           *  @param    Data ÈÄâÊã©ÂàóÊòæÁ§∫ÁöÑÊï∞ÊçÆÔºåÈ´ò‰ΩçÂú®‰∏äÔºå1‰∏∫‰∫Æ
  51           *  @retva
  52           */
  53          void MatrixLED_ShowColumn(unsigned char Column, unsigned char Data)
C51 COMPILER V9.60.7.0   MATRIXLED                                                         01/21/2023 15:56:39 PAGE 2   

  54          {
  55   1          _74HC595_WriteByte_(Data);
  56   1          MATEIX_LED_PORT = ~(0x80 >> Column);
  57   1          Delay(1);               // Ê∂àÂΩ±
  58   1          MATEIX_LED_PORT = 0xff; // ‰ΩçÊ∏ÖÈõ∂
  59   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     86    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
